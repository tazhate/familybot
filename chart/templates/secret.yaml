apiVersion: v1
kind: Secret
metadata:
  name: {{ include "familybot.fullname" . }}
  labels:
    {{- include "familybot.labels" . | nindent 4 }}
type: Opaque
data:
  telegram-bot-token: {{ .Values.secrets.telegramBotToken | toString | b64enc | quote }}
  owner-telegram-id: {{ .Values.secrets.ownerTelegramId | int64 | toString | b64enc | quote }}
  partner-telegram-id: {{ .Values.secrets.partnerTelegramId | int64 | toString | b64enc | quote }}
  {{- if .Values.secrets.groupChatId }}
  group-chat-id: {{ .Values.secrets.groupChatId | int64 | toString | b64enc | quote }}
  {{- end }}
  api-username: {{ .Values.secrets.apiUsername | toString | b64enc | quote }}
  api-password: {{ .Values.secrets.apiPassword | toString | b64enc | quote }}
  {{- if .Values.mcp.enabled }}
  mcp-token: {{ .Values.secrets.mcpToken | toString | b64enc | quote }}
  {{- if .Values.secrets.mcpTokenPartner }}
  mcp-token-partner: {{ .Values.secrets.mcpTokenPartner | toString | b64enc | quote }}
  {{- end }}
  {{- end }}
  {{- if .Values.secrets.debtManagerToken }}
  debt-manager-token: {{ .Values.secrets.debtManagerToken | toString | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.caldavUsername }}
  caldav-username: {{ .Values.secrets.caldavUsername | toString | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.caldavPassword }}
  caldav-password: {{ .Values.secrets.caldavPassword | toString | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.todoistToken }}
  todoist-token: {{ .Values.secrets.todoistToken | toString | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.todoistProjectId }}
  todoist-project-id: {{ .Values.secrets.todoistProjectId | toString | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.todoistSectionId }}
  todoist-section-id: {{ .Values.secrets.todoistSectionId | toString | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.todoistPartnerSectionId }}
  todoist-partner-section-id: {{ .Values.secrets.todoistPartnerSectionId | toString | b64enc | quote }}
  {{- end }}
